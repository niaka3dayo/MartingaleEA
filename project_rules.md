# FX自動売買EAプロジェクト開発ルール

## 1. プロジェクト管理

このプロジェクトでは、GitHubなどのリモートリポジトリは使用せず、ローカルでのGit管理のみを行います。

### 開発フロー

1. **ブランチ作成**
   - 新機能や修正を行う場合は、必ず新しいブランチを作成してください
   - `create_branch.bat` を使用してブランチを作成できます
   - ブランチ名の命名規則:
     - 新機能: `feature/機能名`
     - バグ修正: `fix/修正内容`
     - 改善: `improve/改善内容`

2. **開発作業**
   - 作成したブランチ上で開発作業を行います
   - 定期的にコミットを行い、作業内容を記録してください
   - コミットメッセージは日本語で、何を変更したかが分かるように記述してください

3. **マージ**
   - 開発が完了したら、`merge_branch.bat` を使用してmainブランチにマージします
   - マージ前に必ずEAのコンパイルテストを行い、動作確認をしてください

## 2. コーディング規則

### 命名規則

- **変数名**
  - グローバル変数: `g_変数名`
  - 外部パラメータ: キャメルケース（例: `LotSize`）
  - ローカル変数: キャメルケース（例: `ticketNumber`）

- **関数名**
  - パスカルケース（例: `OpenBuy`, `CheckSignal`）

### コメント

- 関数の上には必ずコメントを記述し、その関数の目的を説明してください
- 複雑なロジックには適宜コメントを追加してください
- コメントは日本語で記述してください

### インデント

- インデントはスペース3つを使用してください
- 波括弧は独立した行に配置してください

## 3. EA開発ガイドライン

### リスク管理

- すべてのEAには適切なストップロスを設定してください
- マーチンゲール戦略を使用する場合は、最大ロットサイズを制限してください
- バックテストで十分な検証を行ってから実口座で使用してください

### パラメータ設定

- すべての重要なパラメータは外部パラメータ（extern）として定義してください
- パラメータには適切なデフォルト値と説明コメントを付けてください

### エラーハンドリング

- 注文送信などの重要な操作には必ずエラーチェックを行ってください
- エラーが発生した場合はログに記録してください

## 4. テスト手順

1. MT4のストラテジーテスターでバックテストを実行
2. 異なる時間枠と通貨ペアでテストを行う
3. デモ口座でフォワードテストを行う
4. 実口座での運用前に最終確認を行う

## 5. ドキュメント

- 新しいEAを追加する場合は、README.mdに説明を追加してください
- パラメータの説明や使用方法を詳細に記述してください
- バックテスト結果や推奨設定も記載してください
