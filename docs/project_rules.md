# FX自動売買EAプロジェクト開発ルール

## 1. プロジェクト管理

このプロジェクトでは、シンプルなファイル管理を行います。

### 開発フロー

1. **開発作業**
   - EAのソースコード（.mq4ファイル）を編集します
   - 変更内容を記録するためにコメントを適切に追加してください
   - 重要な変更点は、ファイル上部のコメントに記録してください

2. **コンパイルとテスト**
   - 変更後は必ず`compile_ea.ps1`を実行してEAをコンパイルしてください
   - コンパイルしたEAを`install_to_mt4.ps1`を使用してMT4にインストールしてください
   - MT4でEAの動作確認を行ってください

3. **バックアップ**
   - 重要な変更を行った後は、ファイルのバックアップを作成することをお勧めします
   - バックアップは日付を含むフォルダ名で管理してください（例: `Backup_20240227`）

## 2. コーディング規則

### 命名規則

- **変数名**
  - グローバル変数: `g_変数名`
  - 外部パラメータ: キャメルケース（例: `LotSize`）
  - ローカル変数: キャメルケース（例: `ticketNumber`）

- **関数名**
  - パスカルケース（例: `OpenBuy`, `CheckSignal`）

### コメント

- 関数の上には必ずコメントを記述し、その関数の目的を説明してください
- 複雑なロジックには適宜コメントを追加してください
- コメントは日本語で記述してください

### インデント

- インデントはスペース3つを使用してください
- 波括弧は独立した行に配置してください

## 3. EA開発ガイドライン

### リスク管理

- すべてのEAには適切なストップロスを設定してください
- マーチンゲール戦略を使用する場合は、最大ロットサイズを制限してください
- バックテストで十分な検証を行ってから実口座で使用してください

### パラメータ設定

- すべての重要なパラメータは外部パラメータ（extern）として定義してください
- パラメータには適切なデフォルト値と説明コメントを付けてください

### エラーハンドリング

- 注文送信などの重要な操作には必ずエラーチェックを行ってください
- エラーが発生した場合はログに記録してください

## 4. テスト手順

1. MT4のストラテジーテスターでバックテストを実行
2. 異なる時間枠と通貨ペアでテストを行う
3. デモ口座でフォワードテストを行う
4. 実口座での運用前に最終確認を行う

## 5. ドキュメント

- 新しいEAを追加する場合は、README.mdに説明を追加してください
- パラメータの説明や使用方法を詳細に記述してください
- バックテスト結果や推奨設定も記載してください
