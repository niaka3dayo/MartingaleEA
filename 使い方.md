# FX自動売買EA プロジェクトの使い方

このプロジェクトには、MetaTrader 4（MT4）用のFX自動売買EA（Expert Advisor）が含まれています。以下の手順に従って、EAをセットアップ、コンパイル、インストールしてください。

## 1. プロジェクトのセットアップ

1. `init_project.bat` をダブルクリックして実行します。
   - これにより、Gitリポジトリが初期化され、プロジェクトの基本構造が作成されます。
2. `setup_project.bat` をダブルクリックして実行します。
   - これにより、`FX_EA_Project` フォルダーが作成され、その中にMQL4の標準的なディレクトリ構造が作られます。
   - EAのソースファイル（.mq4）は `FX_EA_Project\MQL4\Experts` フォルダーにコピーされます。

## 2. EAのコンパイル

### 方法1: バッチファイルを使用する場合

1. `compile_ea.bat` を開き、MetaEditorのパスが正しいことを確認します。
   - デフォルトでは `C:\Program Files\MetaTrader 4\metaeditor.exe` に設定されています。
   - MT4のインストール場所が異なる場合は、このパスを修正してください。
2. `compile_ea.bat` をダブルクリックして実行します。
3. コンパイルが完了すると、.ex4ファイルが生成されます。

### 方法2: MetaEditorを使用する場合

1. MT4を起動し、「ツール」→「MetaQuotes言語エディター」を選択します。
2. MetaEditorで「ファイル」→「開く」を選択し、`FX_EA_Project\MQL4\Experts` フォルダーから.mq4ファイルを開きます。
3. F7キーを押すか、「コンパイル」ボタンをクリックしてコンパイルします。
4. コンパイルが成功すると、.ex4ファイルが生成されます。

## 3. EAのインストール

### 方法1: バッチファイルを使用する場合

1. `install_to_mt4.bat` をダブルクリックして実行します。
2. MT4のデータディレクトリを入力するよう求められます。
   - 通常は `%APPDATA%\MetaQuotes\Terminal\[ランダムな文字列]` にあります。
   - MT4の「ファイル」→「データフォルダーを開く」で確認できます。
3. 正しいディレクトリを入力すると、EAファイルがMT4のExpertsフォルダーにコピーされます。

### 方法2: 手動でコピーする場合

1. MT4を起動し、「ファイル」→「データフォルダーを開く」を選択します。
2. `MQL4\Experts` フォルダーを開きます。
3. `FX_EA_Project\MQL4\Experts` フォルダーから.ex4ファイル（コンパイル済みのEA）をこのフォルダーにコピーします。

## 4. EAの使用

1. MT4を再起動します。
2. ナビゲーターウィンドウの「Expert Advisors」セクションに、インストールしたEAが表示されます。
3. 使用したいEAをチャートにドラッグ＆ドロップします。
4. 設定ダイアログが表示されるので、必要に応じてパラメーターを調整します。
5. 「OK」をクリックしてEAを起動します。
6. チャート右上に「笑顔」のアイコンが表示されていれば、EAは正常に動作しています。

## 5. 開発作業

1. `create_branch.bat` を実行して新しい開発ブランチを作成します。
2. EAのソースコードを編集します。
3. 変更をコミットします。
4. `merge_branch.bat` を実行して変更をmainブランチにマージします。

## 含まれるEA

### 1. SimpleMAcrossEA

シンプルな移動平均線クロスオーバー戦略を実装したEAです。

### 2. RSI_BB_EA

RSIとボリンジャーバンドを組み合わせた戦略を実装したEAです。

### 3. MartingaleEA

マーチンゲール戦略を実装したEAです。

各EAの詳細な説明とパラメーターについては、`README.md` を参照してください。
開発ルールについては、`project_rules.md` を参照してください。

## 注意事項

- これらのEAはデモ口座でテストしてから実口座で使用することを強く推奨します。
- マーチンゲール戦略はとくにリスクが高いため、十分な資金管理と注意が必要です。
- パラメーターは各通貨ペアや時間枠に合わせて最適化することをオススメします。
