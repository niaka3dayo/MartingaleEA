# MQL4 FX自動売買EA（Expert Advisor）

このプロジェクトには、MetaTrader 4（MT4）プラットフォーム用のMQL4で書かれた3つの自動売買EA（Expert Advisor）が含まれています。

## 含まれるEA

### 1. SimpleMAcrossEA

シンプルな移動平均線クロスオーバー戦略を実装したEAです。短期移動平均線が長期移動平均線を上回ったら買い、下回ったら売るという基本的な戦略です。

**主なパラメーター**:

- ShortMA: 短期移動平均線の期間
- LongMA: 長期移動平均線の期間
- LotSize: 取引ロットサイズ
- StopLoss: ストップロス（ポイント）
- TakeProfit: 利益確定（ポイント）

### 2. RSI_BB_EA

RSI（相対力指数）とボリンジャーバンドを組み合わせた戦略を実装したEAです。RSIが過売り状態でかつ価格がボリンジャーバンドの下限に近い場合に買い、RSIが過買い状態でかつ価格がボリンジャーバンドの上限に近い場合に売るという戦略です。

**主なパラメーター**:

- RSI_Period: RSIの期間
- RSI_UpperLevel: RSIの上限レベル（過買いの閾値）
- RSI_LowerLevel: RSIの下限レベル（過売りの閾値）
- BB_Period: ボリンジャーバンドの期間
- BB_Deviation: ボリンジャーバンドの標準偏差
- TrailingStop: トレーリングストップ（ポイント）

### 3. MartingaleEA

マーチンゲール戦略を実装したEAです。損失が出た場合に次の取引でロットサイズを増やすという戦略です。移動平均線クロスオーバーをシグナルとして使用します。

**主なパラメーター**:

- InitialLotSize: 初期ロットサイズ
- MaxLotSize: 最大ロットサイズ
- LotMultiplier: 損失時のロット倍率
- FastMA: 短期移動平均線の期間
- SlowMA: 長期移動平均線の期間

## プロジェクトのセットアップ

1. `init_project.bat` を実行してプロジェクトを初期化します。
2. `setup_project.bat` を実行してプロジェクトディレクトリ構造を作成します。
3. `compile_ea.bat` を実行してEAをコンパイルします。
4. `install_to_mt4.bat` を実行してコンパイル済みのEAをMT4にインストールします。

## 開発ワークフロー

1. `create_branch.bat` を実行して新しい開発ブランチを作成します。
2. 開発作業を行います。
3. 変更をコミットします。
4. `merge_branch.bat` を実行して変更をmainブランチにマージします。

詳細な開発ルールについては `project_rules.md` を参照してください。

## 使用方法

1. MT4を起動します。
2. メニューから「ファイル」→「データフォルダーを開く」を選択します。
3. 「MQL4」→「Experts」フォルダーに、このリポジトリの.mq4ファイルをコピーします。
4. MT4を再起動するか、メタエディターでファイルをコンパイルします。
5. ナビゲーターウィンドウの「Expert Advisors」セクションにEAが表示されます。
6. 使用したいEAをチャートにドラッグ＆ドロップします。
7. 設定ダイアログが表示されるので、必要に応じてパラメーターを調整します。
8. 「OK」をクリックしてEAを起動します。

## 注意事項

- これらのEAはデモ口座でテストしてから実口座で使用することを強く推奨します。
- マーチンゲール戦略はとくにリスクが高いため、十分な資金管理と注意が必要です。
- パラメーターは各通貨ペアや時間枠に合わせて最適化することをオススメします。
- 過去のパフォーマンスは将来の結果を保証するものではありません。

## バックテスト方法

1. MT4の「表示」→「ストラテジーテスター」を選択します。
2. テストするEAを選択します。
3. 通貨ペアと時間枠を設定します。
4. テスト期間を設定します。
5. モデル（価格変動の計算方法）を選択します。
6. 「スタート」ボタンをクリックしてバックテストを開始します。

## カスタマイズ

各EAのパラメーターはメタエディターで編集できます。また、トレード戦略やリスク管理ロジックも必要に応じてカスタマイズできます。

## コンパイル方法

1. MetaEditor（MT4に付属）を起動します。
2. 「ファイル」→「開く」から.mq4ファイルを開きます。
3. F7キーを押すか、「コンパイル」ボタンをクリックしてコンパイルします。
4. コンパイルが成功すると、.ex4ファイルが生成されます。
5. 生成された.ex4ファイルはMT4の「Experts」フォルダーに自動的に配置されます。
