## 変更内容

このPRでは、MartingaleEAのコードをリファクタリングし、品質と保守性を向上させました。

### 主な改善点

1. パラメーターの整理と拡張
   - inputキーワードを使用して外部パラメーターを整理
   - パラメーターをグループ化して見やすく
   - 移動平均線の計算方法や適用価格などの追加パラメーターを導入
   - スリッページを設定可能に

2. 定数の定義
   - シグナル値を定数として定義

3. 変数名の改善
   - グローバル変数の名前を明確に
   - 初期化フラグの追加

4. コードの構造化
   - 関数の分割と整理
   - 新しい関数の追加
   - 各関数の責任範囲を明確化

5. エラーハンドリングの強化
   - パラメーターの検証機能の追加
   - エラーコードの詳細な説明を提供する関数の追加
   - エラーメッセージの改善

6. ログ出力の改善
   - 情報、エラー、デバッグの3種類のログ出力関数を追加
   - デバッグログの有効/無効を切り替え可能に
   - ログメッセージの詳細化

7. 取引ロジックの改善
   - 新しいバーが形成されたときのみ処理を行うように変更
   - 履歴検索を最新のものから行うように効率化
   - 価格の正規化処理の追加
